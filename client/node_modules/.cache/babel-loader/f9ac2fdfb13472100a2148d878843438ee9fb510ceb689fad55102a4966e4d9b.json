{"ast":null,"code":"var _jsxFileName = \"/Users/soysauce/Desktop/WTWR/client/se_project_react/src/components/LoginModal/LoginModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ModalWithForm from \"../ModalWithForm/ModalWithForm\";\nimport { emailRegex } from \"../../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginModal = _ref => {\n  _s();\n  let {\n    isOpen,\n    onCloseModal,\n    handleLogin,\n    handleToggleModal,\n    showFormError,\n    setShowFormError,\n    isLoading\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n  const isValid = useMemo(() => {\n    return password.length >= 8 && email.length >= 1 && email.match(emailRegex);\n  }, [email, password]);\n  const handleEmail = e => {\n    setEmail(e.target.value);\n  };\n  const handlePassword = e => {\n    setPassword(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    handleLogin(email, password);\n    history.push(\"/profile\");\n  };\n  useEffect(() => {\n    setEmail(\"\");\n    setPassword(\"\");\n    setShowFormError(false);\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(ModalWithForm, {\n    isOpen: isOpen,\n    type: \"login\",\n    title: \"Log in\",\n    buttonText: isLoading ? \"Loading...\" : \"Log in\",\n    onCloseModal: onCloseModal,\n    onSubmit: handleSubmit,\n    disabled: !isValid,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: showFormError ? \"form__label_error\" : \"form__label\",\n      children: showFormError ? \"Incorrect email or password\" : \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: showFormError ? \"form__input_error\" : \"form__input\",\n      name: \"email\",\n      type: \"email\",\n      value: email,\n      onChange: handleEmail,\n      placeholder: \"Email\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: showFormError ? \"form__label_error\" : \"form__label\",\n      children: showFormError ? \"Incorrect email or password\" : \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: showFormError ? \"form__input_error\" : \"form__input\",\n      name: \"password\",\n      type: \"text\",\n      value: password,\n      onChange: handlePassword,\n      placeholder: \"Password\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"modal__form-btn_alt\",\n      onClick: handleToggleModal,\n      children: \"or Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginModal, \"MN+hYmiuYC5l/KW6l82lkF0lro8=\", false, function () {\n  return [useHistory];\n});\n_c = LoginModal;\nexport default LoginModal;\nvar _c;\n$RefreshReg$(_c, \"LoginModal\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useHistory","ModalWithForm","emailRegex","LoginModal","isOpen","onCloseModal","handleLogin","handleToggleModal","showFormError","setShowFormError","isLoading","email","setEmail","password","setPassword","history","isValid","length","match","handleEmail","e","target","value","handlePassword","handleSubmit","preventDefault","push"],"sources":["/Users/soysauce/Desktop/WTWR/client/se_project_react/src/components/LoginModal/LoginModal.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ModalWithForm from \"../ModalWithForm/ModalWithForm\";\nimport { emailRegex } from \"../../utils/constants\";\n\nconst LoginModal = ({\n  isOpen,\n  onCloseModal,\n  handleLogin,\n  handleToggleModal,\n  showFormError,\n  setShowFormError,\n  isLoading\n}) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  const isValid = useMemo(() => {\n    return password.length >= 8 && email.length >= 1 && email.match(emailRegex);\n  }, [email, password]);\n\n  const handleEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleLogin(email, password);\n    history.push(\"/profile\");\n  };\n\n  useEffect(() => {\n    setEmail(\"\");\n    setPassword(\"\");\n    setShowFormError(false);\n  }, [isOpen]);\n\n  return (\n    <ModalWithForm\n      isOpen={isOpen}\n      type=\"login\"\n      title=\"Log in\"\n      buttonText={isLoading ? \"Loading...\" : \"Log in\"}\n      onCloseModal={onCloseModal}\n      onSubmit={handleSubmit}\n      disabled={!isValid}\n    >\n      <h4 className={showFormError ? \"form__label_error\" : \"form__label\"}>\n        {showFormError ? \"Incorrect email or password\" : \"Email\"}\n      </h4>\n      <input\n        className={showFormError ? \"form__input_error\" : \"form__input\"}\n        name=\"email\"\n        type=\"email\"\n        value={email}\n        onChange={handleEmail}\n        placeholder=\"Email\"\n        required\n      />\n      <h4 className={showFormError ? \"form__label_error\" : \"form__label\"}>\n        {showFormError ? \"Incorrect email or password\" : \"Password\"}\n      </h4>\n      <input\n        className={showFormError ? \"form__input_error\" : \"form__input\"}\n        name=\"password\"\n        type=\"text\"\n        value={password}\n        onChange={handlePassword}\n        placeholder=\"Password\"\n        required\n      />\n      <p className=\"modal__form-btn_alt\" onClick={handleToggleModal}>\n        or Register\n      </p>\n    </ModalWithForm>\n  );\n};\n\nexport default LoginModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}